{% extends "app/base.html" %}

{% block style %}

main {
    display: flex;
    flex-direction:column;
    align-items: center;
    justify-contents: center;
}

div.disciplina  {
    padding: 10px;
    margin: 10px;
    border-radius: 10px;
    
    
}
h3 {
    margin-bottom: 10px;
    color: white;
    }

h2 {
    color: white;
    }


 .disciplina input {
    display:inline-block;
    color: gray;
    font-size: 0.85rem;
    padding: 5px 10px;
    border-radius: 5px;
    color: white;
    background: green;
    text-decoration: none;
    width: 100%;
}

a.sessão {
    display:inline-block;
    color: black;
    font-size: 0.85rem;
    padding: 2px 10px;
    margin: 5px 0;
    border-radius: 5px;
    background: white;
    border: 1px solid black;
    text-decoration: none;
}


td.turma span:nth-child(2) {
    display:none;
}

table, th, td{
    border: 2px solid black;
}

.flex {
    display: flex;
    width: 100%;
    flex-direction: row;
    flex-wrap: wrap;
    
}

.flex > div {
    flex: 1 1 calc(50% - 10px); /* Subtrair a margem para que duas divs caibam na mesma linha */
    box-sizing: border-box;
    margin: 5px; /* Margem de 5px ao redor de cada div */
}

body {

margin: 0;

width: 100%;
height: 100%;
background-size: cover;
background-position: center center;
background-repeat: no-repeat;
background-attachment: fixed;
background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
url(/static/app/licenciatura-engenharia-informatica-lisboa_600.jpg);
}



{% endblock style %}





{% block main %}

<body style="background-color: #b5073d;">

    <h2>Dashboard</h2>

    <div class="disciplina"
        style="background-color: whitesmoke;
            ; border: 1px solid black; text-align: center;
            width: 95%;">

            <h3 style="color: black;">User atual</h3>
            <p> {{request.user.first_name}} {{request.user.last_name}} </p>
            
    </div>
    



    <div class="flex">
            <div class="disciplina"
            style="background-color: whitesmoke;
                ; border: 1px solid black; text-align: center;
                ">

            <h4 style="color: black;">Nº de Diades </h4>
            <h2 style="color: black;"> {{ diades|length }}</h2>

        </div>

        <div class="disciplina"
        style="background-color: whitesmoke;
            ; border: 1px solid black; text-align: center;
            ">

            <h4 style="color: black;">Nº de Sessões deste mês</h4>
            <h2 style="color: black;"> {{ sessoesMes|length }}</h2>
            
        </div>
    </div>

        <div class="flex">
    
            <div class="disciplina"
            style="background-color: whitesmoke;
                ; border: 1px solid black; text-align: center;
                ">

                <h4 style="color: black;">Nº de Mentores ativos </h4>
                <h2 style="color: black;"> {{ mentoresMes|length }}</h2>
                
            </div>

            <div class="disciplina"
            style="background-color: whitesmoke;
                ; border: 1px solid black; text-align: center;
                ">

                <h4 style="color: black;">Nº de Mentorandos ativos </h4>
                <h2 style="color: black;"> {{ mentorandosMes|length }}</h2>
                
            </div>
    </div>
    <div class="disciplina"
        style="background-color: whitesmoke;
            ; border: 1px solid black; text-align: center;
            width: 95%;">

            <h4 style="color: black;">Sessões por Disciplina</h4>

            {% for disciplina,count in disciplinas.items %}

            <p>Sessões de {{ disciplina }} -> {{ count }}   </p>

            {% endfor %}
            
    </div>

   
    <h2>Nº de Sessões por mês</h2>
    <p><img src="data:image/png;base64,{{ data }}" alt=""></p>


   
    
</body>



{% endblock main %}
